# Release Security

This project builds and ships artifacts with a hardened supply chain. On tagged `v*` releases, the release workflow performs:

1. **Deterministic builds** – `scripts/build_artifacts.py` produces wheels and source archives under `dist/` using only locked dependencies.
2. **SBOM generation** – `scripts/gen_sbom.py` writes Software Bill of Materials files to `sbom/`.
3. **SLSA provenance** – provenance for all release artifacts is generated by the [`slsa-github-generator`](https://github.com/slsa-framework/slsa-github-generator) and published alongside the release.
4. **Cosign attestations** – each artifact is attested using [Sigstore Cosign](https://github.com/sigstore/cosign) via keyless GitHub OIDC identity.

All `dist/*`, `sbom/*.json`, provenance, and `.intoto` attestation files are attached to the GitHub Release for the corresponding tag.

## Verifying Attestations

Cosign attestations can be verified using the `cosign verify-attestation` command:

```bash
cosign verify-attestation --type slsaprovenance \
  --certificate-oidc-issuer https://token.actions.githubusercontent.com \
  --certificate-identity-regexp 'github.com/.+/.+/.+' \
  <artifact>
```

The command checks that the attestation was issued by a GitHub Action using keyless signing.

## Verifying SLSA Provenance

Each release includes a provenance JSON file generated by the SLSA GitHub generator. Inspect the file to confirm that the `subject` section contains the expected artifact names and SHA256 digests. The provenance can be verified with:

```bash
cosign verify-attestation --type slsaprovenance \
  --certificate-oidc-issuer https://token.actions.githubusercontent.com \
  --certificate-identity-regexp 'github.com/.+/.+/.+' \
  --insecure-ignore-tlog \
  <artifact>
```

## Build Manifest

Additional build details are recorded in `reports/build/build_manifest.json` generated during the build step.
