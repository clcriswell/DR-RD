{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "required": ["role", "task", "summary", "findings", "unit_economics", "npv", "simulations", "assumptions", "risks", "next_steps", "sources"],
  "properties": {
    "role": {"type": "string"},
    "task": {"type": "string"},
    "summary": {"type": "string"},
    "findings": {"type": "string"},
    "unit_economics": {
      "type": "object",
      "required": ["total_revenue", "total_cost", "gross_margin", "contribution_margin"],
      "properties": {
        "total_revenue": {"type": "number"},
        "total_cost": {"type": "number"},
        "gross_margin": {"type": "number"},
        "contribution_margin": {"type": "number"}
      }
    },
    "npv": {"type": "number"},
    "simulations": {
      "type": "object",
      "required": ["mean", "std_dev", "p5", "p95"],
      "properties": {
        "mean": {"type": "number"},
        "std_dev": {"type": "number"},
        "p5": {"type": "number"},
        "p95": {"type": "number"}
      }
    },
    "assumptions": {"type": "array", "items": {"type": "string"}},
    "risks": {"type": "array", "items": {"type": "string"}},
    "next_steps": {"type": "array", "items": {"type": "string"}},
    "sources": {"type": "array", "items": {"type": "string"}}
  }
}
